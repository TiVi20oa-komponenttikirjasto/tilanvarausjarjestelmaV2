{% extends "master.html" %}

{% block title %}
  Details about {{ myspaces.type }} {{ myspaces.location }}
{% endblock %}

{% block content %}
<div class="layout">
  <aside class="sidebar-left">
    <!-- Left sidebar content here -->
  </aside>
  <main class="main-content">
    <!-- Kortti alkaa tästä -->
    <div class="mycard">
      <div class="mycard-header">
        <h1>
          {% if myspaces.type == "office" %}
            Toimisto
          {% elif myspaces.type == "meeting_room" %}
            Kokoushuone
          {% elif myspaces.type == "conference_room" %}
            Konferenssihuone
          {% elif myspaces.type == "event_space" %}
            Tapahtumatila
          {% else %}
            Ei määritelty
          {% endif %}
          {{ myspaces.location }}
        </h1>
      </div>
      <div class="mycard-body">
        <p>ID: {{ myspaces.idNumber }}</p>
        <p>Tilan sijainti: {{ myspaces.location }}</p>
        <p>Tilan tyyppi: 
          {% if myspaces.type == "office" %}
            Toimisto
          {% elif myspaces.type == "meeting_room" %}
            Kokoushuone
          {% elif myspaces.type == "conference_room" %}
            Konferenssihuone
          {% elif myspaces.type == "event_space" %}
            Tapahtumatila
          {% else %}
            Ei määritelty
          {% endif %}
        </p>
        <p>
          Palvelutyyppi: 
          {% if myspaces.service_type == "rental" %}
            Vuokra
          {% elif myspaces.service_type == "loan" %}
            Laina
          {% else %}
            Ei määritelty
          {% endif %}
        </p>
        <p>
          Tilan julkisuus: 
          {% if myspaces.publicity == "private" %}
            Yksityinen
          {% elif myspaces.publicity == "public" %}
            Julkinen
          {% else %}
            Ei määritelty
          {% endif %}
        </p>
        <p>Tilan koko: {{ myspaces.size }}m²</p>
        <p>Tilan kapasiteetti: {{ myspaces.capacity }} henkilöä</p>
      </div>
    </div>

    <div class="calendar-section">
      <div class="status-labels">
        <p>Näet kalenterissa vapaat ajat vihreänä ja varatut ajat punaisena</p>
        <span class="vapaa">Vapaa</span>
        <span class="varattu">Varattu</span>
      </div>
      <div id="calendar"></div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var calendarEl = document.getElementById("calendar");
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: "dayGridMonth",
          events: "/events-json/",
          locale: 'fi',
          buttonText: {
            today: 'Tänään'
          }
        });
        calendar.render();
      });
    </script>
  </main>
  <aside class="sidebar-right">
    <!-- Right sidebar content here -->
  </aside>
</div>
{% endblock %}